{% extends 'techcrunch/base.html' %}
{% load staticfiles %}

{% block script %}
<script type="text/javascript">
  window.onload = function() {
  	L.mapquest.key = 'UShjaMayAC4UkuBJ5nu5rqFuraxzEOQU';

    var map = L.mapquest.map('map', {
      center: [40.7385512, -74.008938],
      layers: L.mapquest.tileLayer('map'),
      zoom: 12
    });
  	if (navigator.geolocation) {
        position = navigator.geolocation.getCurrentPosition(showPosition);
    }
    
  }  

  function showPosition(position) {
    lat = position.coords.latitude
    lon = position.coords.longitude
    

    L.mapquest.directions().route({
          start: {
          	latLng: {lat:lat, lng:lon},
          },
          end: {
          	latLng: {lat:40.7135512, lng:-73.97738},
          },
          options: {
            timeOverage: 25,
            maxRoutes: 1,
          }
        });
}


</script>
{% endblock %}

{% block content %}
<body style="border: 0; margin: 0;">
    <div id="map" style="width: 100vw; height: 100vh;">
    	
    </div>
</body>
{% endblock %}
